<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ® Type Master - Fun Typing Game for Kids!</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app" class="app-container">
        <!-- Left Sidebar: Controls and Stats -->
        <aside class="sidebar">
            <!-- Header Section -->
            <header class="header">
                <h1 class="title">ğŸ® Type Master</h1>
                <div class="player-greeting" id="player-greeting" style="display: none;">
                    <span class="greeting-text">Hi, <span id="player-name-display"></span>! ğŸ‘‹</span>
                </div>
                <div class="level-display" role="status" aria-live="polite">
                    <span class="level-badge">Level <span id="level">1</span></span>
                    <span class="stars">â­ <span id="stars">0</span></span>
                </div>
            </header>

            <!-- Mode Selection -->
            <div class="mode-selector" role="navigation" aria-label="Game mode selection">
                <button class="mode-btn active" id="mode-practice" data-mode="practice" aria-pressed="true">
                    ğŸ¯ Practice
                </button>
                <button class="mode-btn" id="mode-timed-30" data-mode="timed-30" aria-pressed="false">
                    â±ï¸ 30 Seconds
                </button>
                <button class="mode-btn" id="mode-timed-60" data-mode="timed-60" aria-pressed="false">
                    ğŸƒ 60 Seconds
                </button>
            </div>

            <!-- Difficulty Selection -->
            <div class="difficulty-selector" role="navigation" aria-label="Difficulty selection">
                <button class="difficulty-btn active" id="diff-beginner" data-difficulty="beginner" aria-pressed="true">
                    ğŸŒŸ Beginner
                </button>
                <button class="difficulty-btn" id="diff-intermediate" data-difficulty="intermediate" aria-pressed="false">
                    ğŸš€ Intermediate
                </button>
            </div>

            <!-- Vietnamese Translation Toggle -->
            <div class="translation-toggle" role="navigation" aria-label="Translation settings">
                <button class="toggle-btn" id="vietnamese-toggle" aria-pressed="false">
                    ğŸ‡»ğŸ‡³ Vietnamese: OFF
                </button>
            </div>

            <!-- Game Stats -->
            <div class="stats-container" role="region" aria-label="Game statistics">
                <div class="stat-item">
                    <span class="stat-label">Score</span>
                    <span class="stat-value" id="score">0</span>
                </div>
                <div class="stat-item" id="timer-container" style="display: none;">
                    <span class="stat-label">Time</span>
                    <span class="stat-value" id="timer">30</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Streak</span>
                    <span class="stat-value" id="streak">0</span>
                </div>
            </div>

            <!-- Progress Bar -->
            <div class="progress-container" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar" id="progress-bar"></div>
                <span class="progress-text" id="progress-text">0 / 10</span>
            </div>

            <!-- Start/Reset Button -->
            <div class="action-buttons">
                <button class="btn-primary" id="start-btn">ğŸš€ Start Game</button>
                <button class="btn-secondary" id="reset-btn" style="display: none;">ğŸ”„ New Game</button>
            </div>
        </aside>

        <!-- Main Game Area -->
        <main class="game-area">
            <!-- Target Word Display -->
            <div class="word-display" role="region" aria-label="Word to type">
                <div class="target-word" id="target-word" aria-live="polite">cat</div>
                <div class="vietnamese-meaning" id="vietnamese-meaning" style="display: none;" aria-live="polite"></div>
            </div>

            <!-- Typing Input Area -->
            <div class="typing-area">
                <label for="typing-input" class="sr-only">Type the word shown above</label>
                <input 
                    type="text" 
                    id="typing-input" 
                    class="typing-input" 
                    autocomplete="off"
                    autocorrect="off"
                    spellcheck="false"
                    placeholder="Type here..."
                    aria-describedby="target-word"
                    autofocus
                />
                <div class="input-feedback" id="input-feedback" role="status" aria-live="assertive"></div>
            </div>

            <!-- Keyboard with Hand Guides -->
            <div class="keyboard-with-hands">
                <!-- Left Hand Guide -->
                <div class="hand-container left-hand" role="region" aria-label="Left hand position guide">
                    <div class="hand-visual">
                        <div class="hand-shape left">
                            <div class="finger-bar pinky" data-finger="left-pinky" title="Pinky: Q A Z"></div>
                            <div class="finger-bar ring" data-finger="left-ring" title="Ring: W S X"></div>
                            <div class="finger-bar middle" data-finger="left-middle" title="Middle: E D C"></div>
                            <div class="finger-bar index" data-finger="left-index" title="Index: R T F G V B"></div>
                        </div>
                        <img src="left_hand.png" alt="Left hand" class="hand-image" />
                    </div>
                    <div class="hand-label">Left</div>
                </div>

                <!-- Virtual Keyboard -->
                <div class="keyboard" role="region" aria-label="Virtual keyboard">
                <div class="keyboard-row">
                    <button class="key finger-pinky" data-key="q">Q</button>
                    <button class="key finger-ring" data-key="w">W</button>
                    <button class="key finger-middle" data-key="e">E</button>
                    <button class="key finger-index" data-key="r">R</button>
                    <button class="key finger-index" data-key="t">T</button>
                    <button class="key finger-index" data-key="y">Y</button>
                    <button class="key finger-index" data-key="u">U</button>
                    <button class="key finger-middle" data-key="i">I</button>
                    <button class="key finger-ring" data-key="o">O</button>
                    <button class="key finger-pinky" data-key="p">P</button>
                </div>
                <div class="keyboard-row">
                    <button class="key finger-pinky" data-key="a">A</button>
                    <button class="key finger-ring" data-key="s">S</button>
                    <button class="key finger-middle" data-key="d">D</button>
                    <button class="key finger-index" data-key="f">F</button>
                    <button class="key finger-index" data-key="g">G</button>
                    <button class="key finger-index" data-key="h">H</button>
                    <button class="key finger-index" data-key="j">J</button>
                    <button class="key finger-middle" data-key="k">K</button>
                    <button class="key finger-ring" data-key="l">L</button>
                </div>
                <div class="keyboard-row">
                    <button class="key finger-pinky" data-key="z">Z</button>
                    <button class="key finger-ring" data-key="x">X</button>
                    <button class="key finger-middle" data-key="c">C</button>
                    <button class="key finger-index" data-key="v">V</button>
                    <button class="key finger-index" data-key="b">B</button>
                    <button class="key finger-index" data-key="n">N</button>
                    <button class="key finger-index" data-key="m">M</button>
                </div>
            </div>

            <!-- Right Hand Guide -->
            <div class="hand-container right-hand" role="region" aria-label="Right hand position guide">
                <div class="hand-visual">
                    <div class="hand-shape right">
                        <div class="finger-bar index" data-finger="right-index" title="Index: Y U H J N M"></div>
                        <div class="finger-bar middle" data-finger="right-middle" title="Middle: I K"></div>
                        <div class="finger-bar ring" data-finger="right-ring" title="Ring: O L"></div>
                        <div class="finger-bar pinky" data-finger="right-pinky" title="Pinky: P"></div>
                    </div>
                    <img src="right_hand.png" alt="Right hand" class="hand-image" />
                </div>
                <div class="hand-label">Right</div>
            </div>
        </div>
        </main>

        <!-- Welcome Modal -->
        <div class="modal" id="welcome-modal" style="display: none;" role="dialog" aria-labelledby="welcome-title" aria-modal="true">
            <div class="modal-content welcome-content">
                <h2 id="welcome-title">ğŸ® Welcome to Type Master!</h2>
                <div class="welcome-message">
                    <p>ğŸ‘‹ Hello, new friend!</p>
                    <p>Let's start your typing adventure!</p>
                </div>
                <div class="name-input-container">
                    <label for="player-name" class="name-label">What's your name?</label>
                    <input 
                        type="text" 
                        id="player-name" 
                        class="name-input" 
                        placeholder="Type your name here..."
                        maxlength="20"
                        autocomplete="off"
                        aria-label="Enter your name"
                    />
                </div>
                <button class="btn-primary btn-start" id="start-adventure-btn" disabled>Start Adventure! ğŸš€</button>
            </div>
        </div>

        <!-- Results Modal -->
        <div class="modal" id="results-modal" style="display: none;" role="dialog" aria-labelledby="modal-title" aria-modal="true">
            <div class="modal-content">
                <h2 id="modal-title">ğŸ‰ Awesome Job!</h2>
                <div class="results" id="results-content"></div>
                <button class="btn-primary" id="play-again-btn">Play Again</button>
            </div>
        </div>

        <!-- Confetti Container -->
        <div class="confetti-container" id="confetti-container"></div>
    </div>

    <script src="utils.js"></script>
    <script src="sounds.js"></script>
    <script src="game.js"></script>
</body>
</html>
